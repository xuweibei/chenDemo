<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // Set
        // 基本用法
        // ES6 提供了新的数据结构 Set。它类似于数组，但是成员的值都是唯一的，没有重复的值。
        // Set本身是一个构造函数，用来生成 Set 数据结构。

        // var s = new Set([1, 2, 2, 3, 4, 2, 1, 4, 5]);
        // console.log(s);//1,2,3,4,5



        // 数组去重
        // console.log([...new Set([1, 2, 1, 2, 3, 1, 2, 1, 3])]);//[1,2,3]
        // 去除字符串里面的重复字符
        // console.log([...new Set('ababbc')].join(''));//abc

        // Set 结构的实例有以下属性。

        // Set.prototype.constructor：构造函数，默认就是Set函数。
        // Set.prototype.size：返回Set实例的成员总数。

        // var s = new Set([1]);
        // console.log(s.size);//1


        // 向 Set 加入值的时候，不会发生类型转换，所以5和"5"是两个不同的值。
        // Set 内部判断两个值是否不同，它类似于精确相等运算符（===），
        // 主要的区别是向    Set 加入值时认为NaN等于自身，    而精确相等运算符认为NaN不等于自身。

        /*
         let set = new Set();
         let a = NaN;
         let b = NaN;
         set.add(a);
         set.add(b);
         console.log(set);//NaN
        */
        // 两个对象总是不相等
        /*
            let set = new Set();
            set.add({});
            console.log(set.size);//1
            set.add({});
            console.log(set.size);//2
        */


        // Set 实例的方法分为两大类,操作方法（用于操作数据）和遍历方法（用于遍历成员）。

        // 操作方法

        // Set.prototype.add(value) ：添加某个值，返回 Set 结构本身。
        // Set.prototype.delete(value) ：删除某个值，返回一个布尔值，表示删除是否成功。
        // Set.prototype.has(value) ：返回一个布尔值，表示该值是否为Set的成员。
        // Set.prototype.clear() ：清除所有成员，没有返回值。
        // 1.add() 添加某个值，返回 Set 结构本身
        /* var s = new Set([1]);
         s.add(2);
         console.log(s);// { 1, 2 }
         */
        // 2.delete () 删除某个值，返回一个布尔值，表示删除是否成功。
        /*
        var set = new Set([1, 2, 3]);
        console.log(set.delete(1));//true
        set.delete(1);
        console.log(set);//{2,3}
        */
        // 3.has返回一个布尔值，表示该值是否为Set的成员。
        /*
         let set = new Set([1, 2, 3])
         console.log(set.has(1));//true
         console.log(set.has(4));//false
        */
        // 4.clear() ：清除所有成员，没有返回值。
        /*
         var set = new Set([1, 2, 3, 4]);
        set.clear();
        console.clear(set);
        */


        // Array.from方法可以将 Set 结构转为数组。
        /*
          let set = new Set([1, 2, 3, 5, 5]);
          arr = Array.from(set);
          arr.push(1);
          console.log(arr);//[1,2,3,5,1]
        */



        // 数组去重新方法

        /*
         function dedupe(array) {
             return Array.from(new Set(array));
         }
         console.log(dedupe([1, 1, 2, 3]));//1,2,3
        */


        // 遍历操作

        // Set.prototype.keys() ：返回键名的遍历器
        // Set.prototype.values() ：返回键值的遍历器
        // Set.prototype.entries() ：返回键值对的遍历器
        // Set.prototype.forEach() ：使用回调函数遍历每个成员

        // keys方法、values方法、entries方法返回的都是遍历器对象
        /*
        let set = new Set(['red', 'green', 'blue']);

        for (let item of set.keys()) {
            console.log(item);
            //red
            // green
            // blue
        }
        for (let item of set.values()) {
            console.log(item);
            // red
            // green
            // blue
        }
        // entries方法返回的遍历器，同时包括键名和键值，所以每次输出一个数组，它的两个成员完全相等。
        for (let item of set.entries()) {
            console.log(item);
            // ["red", "red"]
            // ["green", "green"]
            // ["blue", "blue"]
        }

        */

        // forEach()
        // Set 结构的实例与数组一样，也拥有forEach方法，用于对每个成员执行某种操作，没有返回值。

    </script>
</body>

</html>