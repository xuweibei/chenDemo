<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        div {
            padding: 100px;
        }

        #div1 {
            background: red;
        }

        #div2 {
            background: yellow;
        }

        #div3 {
            background: blue;
        }
    </style>
</head>

<body>
    <div id="div1">
        <div id="div2">
            <div id="div3"></div>
        </div>
    </div>
    <script>
        /*
            元素.addEventListener(事件名，函数，布尔值)
            事件监听器绑定事件
            参数：
                事件名：string,不带on,
                函数:事件函数，有名或匿名
                布尔值：默认是false
                    true:捕获阶段调用函数
                    false:冒泡阶段调用函数
            注意：
                1.匿名函数不相同
                2.同一元素的同一事件绑定相同的有名函数，后边覆盖前边，只绑了一个
                3.同一元素的同一事件可以绑定多个不同函数
                4.不要随便捕获阶段执行，除非需要提前执行的
                5.移动端只能用addEventListener绑定事件，不能用on
            *
        * */
        /*
              元素.removeEventListener(事件名，函数，布尔值)
              移出绑定事件

              参数：
                    事件名：string,不带on,
                    函数:事件函数，有名或匿名
                    布尔值：默认是false
                        true:捕获阶段调用函数
                        false:冒泡阶段调用函数
              注意：
                    1.同一元素的同一事件的同一函数的同一阶段，才能解绑
                    2.用on和addEventListener不能互相解绑
         *
	     * */

        var div1 = document.getElementById('div1');
        var div2 = document.getElementById('div2');
        var div3 = document.getElementById('div3');
        // 事件绑定第一种方式
        // 用on绑定的事件只能在冒泡阶段执行
        // div1.onclick = function () {
        //     console.log('div1');//div1
        // }
        // div2.onclick = function () {
        //     console.log('div2');//div1 div2
        // }
        // div3.onclick = function () {
        //     console.log('div3');//div1 div2 div3
        // }

        // 事件绑定第二种方式
        // div1.addEventListener('click', fn1);
        // div2.addEventListener('click', fn2);
        // div3.addEventListener('click', fn3);
        // function fn1() {
        //     console.log('div1');
        // }
        // function fn1() {
        //     console.log('div11');//div11
        // }
        // function fn2() {
        //     console.log('div2');//div11 div2
        // }
        // function fn3() {
        //     console.log('div3');//div11 div2 div3
        // }

        var n = 0;
        div1.addEventListener('click', function () {
            n++;
            console.log(n);
            if (n > 3) {
                //arguments.callee,只能在函数内部使用，指向本函数
                div1.removeEventListener('click', arguments.callee);
            }
        });
    </script>
</body>

</html>